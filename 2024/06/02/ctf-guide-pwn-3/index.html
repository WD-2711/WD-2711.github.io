<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>ctf-guide-pwn-3 | wd-z711&#39;s B10g</title>
  <meta name="author" content="wd-z711">
  
  <meta name="description" content="Common student in China. Interested in web &amp; re.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="ctf-guide-pwn-3"/>
  <meta property="og:site_name" content="wd-z711&#39;s B10g"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'G-YHJSKZDC3Y', 'auto');
  ga('send', 'pageview');
</script>




<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="wd-z711's B10g" type="application/atom+xml">
</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">wd-z711&#39;s B10g</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> ctf-guide-pwn-3</h1>
		</div>
	



<div class="row post">

	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h1 id="CTF-竞赛权威指南-PWN-3"><a href="#CTF-竞赛权威指南-PWN-3" class="headerlink" title="CTF 竞赛权威指南-PWN-3"></a>CTF 竞赛权威指南-PWN-3</h1><h2 id="0x08-堆利用"><a href="#0x08-堆利用" class="headerlink" title="0x08 堆利用"></a>0x08 堆利用</h2><p>&emsp;内存管理要求在程序请求时动态分配内存，并在程序不需要时释放分配的内存。glibc 实现的内存管理机制叫 ptmalloc2，它支持多线程，其在速度、所占空间、可移植性、可调整性上都有很好的表现。常见的内存管理机制还有 dlmalloc、tcmalloc、jemalloc 等。堆是由低地址向高地址增长的线性区域。只有当用户向操作系统申请内存时，堆才会被内核分配出来，并且出于效率和页对齐的考虑，通常会分配相当大的连续内存。程序再次申请时便会从这片内存中分配，直到堆空间不能满足时才会再次增长。堆一般在 BSS 段高地址处。</p>
<span id="more"></span>
<p><img src="/images/ctf-guide-pwn-3/image-20240602152210696.png" alt="image-20240602152210696" style="zoom:67%;" /></p>
<p>&emsp;堆的属性是可读可写的，其大小通过 brk() 或 sbrk() 进行控制。在堆未初始化时，program break 指向 BSS 段的末尾，通过调用 brk() 和 sbrk() 来移动 program break 使得堆增长。在堆初始化时，如果开启了 ASLR，则堆的起始地址 start brk 会在 BSS 段之后的随机位移处，如果没有开启，则 start brk 会紧接着 BSS 段。brk() 的参数是一个指针，用于设置 program break 指向的位置。sbrk() 的参数 increment 用于与 program break 相加来调整 program break 的值。当用户申请内存过大时，ptmalloc2 会通过 mmap() 创建匿名映射段供用户使用。</p>
<p>&emsp;系统中的堆指的是主线程中 main_arena 所管理的区域，但 glibc 会同时维持多个区域来供多线程使用，每个线程都有属于自己的内存（arena），这些内存也可称为堆。使用一个链表就可以实现堆，但是要在速度、占用空间和可靠性等各方面权衡、并且适应多线程的话，就需要精心设计。</p>
<p>&emsp;glibc 对堆的设计：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">（1）用户申请堆块时，从堆中按顺序分配堆块交给用户，用户保存指向这些堆块的指针。</span><br><span class="line">（2）用户释放堆块时，glibc 会将释放的堆块组织成链表。</span><br><span class="line">（3）当两块相邻堆块都为释放状态时，将其合并成一个新的堆块，由此解决内存碎片的问题。</span><br></pre></td></tr></table></figure>
<p>&emsp;<code>正在使用中的堆块叫 allocated chunk，被释放的堆块叫 free chunk，由 free chunk 组成的链表叫作 bin。有一个 chunk，其相邻的低地址 chunk 叫上一个（后面的）chunk，其相邻的高地址 chunk 叫下一个（前面的）chunk。glibc 将不同大小范围的 chunk 组织成不同的 bin，如 fast bin、small bin、large bin 等。</code></p>
<h3 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h3><ul>
<li><p>arena。一片或数片连续的内存，堆块将会从这些区域划分给用户。<code>主线程的 arena 为 main arena，它包含 start brk 和 brk 之间的内存。一般将 start brk 到 brk 之间的连续内存称为堆。子线程的 arena 可以是数片连续内存（不一定在 start brk 到 brk 之间）。如果主线程的堆大小不够，可通过 brk() 扩展，但子线程分配的映射段大小是固定的，不可以扩展，不够用的话就需要 mmap() 来分配新的内存。</code></p>
</li>
<li><p>heap_info。子线程的 arena 可以有多片连续内存（多个 heap），这些内存都可以被称为 heap，每一个 heap 都有自己的 heap_info（heap header）。heap_info 是通过链表相连接的，里面保存了指向其 arena 的指针。</p>
</li>
<li><p>malloc_state。每个线程只有一个 malloc_state（arena header），里面保存了 bins、top chunk 等信息。主线程的 main_arena 保存在 libc.so 的数据段里，其他线程的 arena 保存在给该 arena 分配的 heap 里。</p>
</li>
<li><p>malloc_chunk。<code>chunk 是 glibc 管理内存的基本单位，整个堆在初始化后会被当成一个 free chunk，称为 top chunk。每次用户请求内存时，如果 bins 中没有合适的 chunk，就会从 top chunk 中进行划分，如果 top chunk 的大小不够，则调用 brk() 扩展堆的大小，然后从新生成的 top chunk 中进行切分。用户释放内存时，glibc 会先根据情况将释放的 chunk 与其他相邻的 free chunk 合并，然后加入合适的 bin 中。</code>malloc_chunk 的结构定义如下：</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">malloc_chunk</span> &#123;</span><br><span class="line">    INTERNAL_SIZE_T prev_size;</span><br><span class="line">    INTERNAL_SIZE_T size;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">malloc_chunk</span>* fd;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">malloc_chunk</span>* bk;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">malloc_chunk</span>* fd_nextsize;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">malloc_chunk</span>* bk_nextsize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INTERNAL_SIZE_T：在 64 位系统下是 8 字节。</span><br><span class="line"></span><br><span class="line">prev_size：如果上一个 chunk（低地址）处于释放状态，则用于表示其大小。否则作为上一个 chunk 的一部分，用于保存上一个 chunk 的数据。</span><br><span class="line"></span><br><span class="line">size：表示当前 chunk 的大小，必须是 2*SIZE_SZ 的整数倍，SIZE_SZ 在 64 位系统下是 8 字节。最后 3 个 bit 被用作状态标识，最低的两个 bits 从高到低分别代表：（1）IS_MAPPED。标识一个 chunk 是否是从 mmap 函数中获得的。（2）PREV_INUSE。标识上一个 chunk 的状态，当为 1 时，表示上一个 chunk 处于释放状态，否则表示上一个 chunk 处于使用状态。</span><br><span class="line"></span><br><span class="line">fd/bk：仅在当前 chunk 处于释放状态时有效。chunk 被释放后会加入相应的 bin 链表中此时 fd 和 bk 指向该 chunk 在链表中的下一个（fd）和上一个（bk） free chunk（不一定是物理相邻的）。如果 chunk 处于使用状态，那么这两个字段是无效的，都是用户使用的空间。</span><br><span class="line"></span><br><span class="line">fd_nextsize/bk_nextsize：仅在处于释放状态时有效，否则就是用户使用的空间。不同的是它们仅用于 large bin，分别指向前后一个和当前 chunk 大小不同的 chunk。</span><br></pre></td></tr></table></figure>
<p>&emsp;展示堆块的申请与释放过程：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">（1）用户连续申请了 3 个堆块 A、B、C，此时释放 chunk B，由于它与 top chunk 不相邻，所以会被放入 bin 中，成为一个 free chunk。</span><br><span class="line">（2）再次申请一个与 B 相同大小的堆块，则 malloc 将从 bin 中取出 chunk B，回到一开始的状态，bin 的表头也会指向 null。</span><br><span class="line">（3）如果用户连续释放 chunk A 和 chunk B，由于它们相邻且都是 free chunk，那么就会被合并成一个大的 chunk 放入 bin 中。</span><br></pre></td></tr></table></figure>
<p><img src="/images/ctf-guide-pwn-3/image-20240602163900328.png" alt="image-20240602163900328" style="zoom:67%;" /></p>
<p>&emsp;处于使用状态的 chunk 由两部分组成，即 pre_size 和 size 组成的 chunk_header 和后面供用户使用的 user data。malloc() 函数返回给用户的实际上是指向用户数据的 mem 指针。</p>
<p><img src="/images/ctf-guide-pwn-3/image-20240602165705802.png" alt="image-20240602165705802" style="zoom:67%;" /></p>
<p>&emsp;处于释放状态的 chunk 的 fd/bk 是有效的，由于是释放状态，所以下一个 chunk（高地址） 的 PREV_INUSE 比特位一定是 0，prev_size 为当前 chunk 的大小。一个 chunk 的大小最小可能是32字节（64位系统），即两个 SIZE_SZ 的大小（prev_size 与 size）加上两个指针（fd 与 bk）的大小。</p>
<p><img src="/images/ctf-guide-pwn-3/image-20240602170237721.png" alt="image-20240602170237721" style="zoom:67%;" /></p>
<p>&emsp;glibc 是如何在 malloc_chunk 上节省内存的？<code>prev_size</code> 仅在上一个 chunk 为释放状态时才需要，否则它会加入上一个 chunk 的 user data 部分，节省出一个 SIZE_SZ 大小的内存。其次，size 最后 3 位由于内存对齐的原因，被用来标记 chunk 的状态。最后，fd 和 bk 仅在释放状态下才需要，节省了 <code>2*SIZE_SZ</code> 大小的内存。</p>
<h3 id="各种-bins"><a href="#各种-bins" class="headerlink" title="各种 bins"></a>各种 bins</h3><p>&emsp;chunk 被释放时，glibc 会将它们重新组织起来，构成不同的 bin 链表，当用户再次申请时，就从中寻找合适的 chunk 返回用户。不同大小区间的 chunk 被划分到不同的 bin 中，一共有四种 bin：Fast bin、Small bin、Large bin 和 Unsorted bin。这些 bin 记录在 malloc_state 结构中。fastbinsY 是一个 bin 数组，里面有 NFASTBINS 个 fast bin。bins 也是一个 bin 数组，一共有 126 个 bin，按顺序分别是 bin 1 为 unsorted bin，bin 2 到bin 63 为 small bin，bin 64 到 bin 126 为 large bin。</p>
<ul>
<li>Fast bin。glibc 对这 Fast bin 使用单链表结构，并采用 LIFO（后进先出）的分配策略。为了加快速度，fastbin 的 chunk 不会进行合并操作，所以下一个 chunk（高地址） 的 PRV_INUSE 始终标记为 1，使其处于使用状态。同一个 fast bin 里 chunk 大小相同，并且在 fastbinsY 数组里按照从小到大的顺序排列，序号为 0 的 fast bin 中容纳的 chunk 大小为 <code>4*SIZE_SZ</code> 字节，随着序号增加，所容纳的 chunk 递增 <code>2*SIZE_SZ</code> 字节。</li>
</ul>
<p><img src="/images/ctf-guide-pwn-3/image-20240602184819220.png" alt="image-20240602184819220" style="zoom:67%;" /></p>
<ul>
<li>Unsorted bin。chunk 被释放时，在进入 small bin 或者 large bin 之前，会先加入 unsorted bin。一个被释放的 chunk 通常很快就会被重新使用，所以将其加入 unsorted bin 可以加快分配的速度。unsorted bin 使用双链表结构，并采用 FIFO（先进先出）的分配策略。与 fastbinsY 不同，unsroted bin 中的 chunk 大小可能是不同的，并且由于是双链表结构，一个 bin 会占用 bins 的两个元素。</li>
</ul>
<p><img src="/images/ctf-guide-pwn-3/image-20240602191931005.png" alt="image-20240602191931005" style="zoom:67%;" /></p>
<ul>
<li>Small bin。同一个 small bin 里 chunk 的大小相同，采用双链表结构，使用频率介于 fast bin 和 large bin 之间。small bin 在 bins 里居第2到第 63 位，共 62 个。根据排序，每个 small bin 的大小为 <code>2*SIZE_SZ*idx</code>（idx 表示 bins 数组的下标）。最小的 small chunk 为 2x8x2=32 字节，最大的 small chunk 为 2x8x63=1008 字节。由于 small bin 和 fast bin 有重合的部分，所以这些 chunk 在某些情况下会被加入 small bin 中。</li>
</ul>
<p><img src="/images/ctf-guide-pwn-3/image-20240602192521576.png" alt="image-20240602192521576" style="zoom:67%;" /></p>
<ul>
<li>Large bin。在 bins 里居第 64 到第 126 位，共 63 个，被分成了 6 组。32 位系统下第 1 个 large bin 的 chunk 最小为 512 字节，第 2 个 large bin 的 chunk 最小为 512+64 字节，处于 [512,512+64) 之间的 chunk 都属于第 1 个large bin。64 位系统第 1 个 large bin 的 chunk 最小为 1024 字节，第 2 个 large bin 的 chunk 最小为 1024+64 字节。large bin 也是采用双链表结构，里面的 chunk 从头结点的 fd 指针（下一个，高地址）开始，按大小顺序进行排列。为了加快检索速度，fd_nextsize 和 bk_nextsize 指针用于指向第 1 个与自己大小不同的 chunk。</li>
</ul>

  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a type="button" class="btn btn-default disabled"><i class="fa fa-arrow-circle-o-left"></i>上一页</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2024/05/31/ace-prepare/" type="button" class="btn btn-default ">下一页<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>


	<!-- comment -->
	
<section id="comment">
    <h2 class="title">留言</h2>

    <!-- 
    <div id="disqus_thread" class="ds-thread">
        <script type="text/javascript">
            /**
             * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
             * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
             */
                /*
                 var disqus_config = function () {
                 this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
                 this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                 };
                 */
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');

                s.src = 'https://https-wd-2711-tech.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>
    </div> -->
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <div id="vcomments"></div>
    <script>
        new Valine({
            el: '#vcomments',
            appId: 'wLIJ70s3fPvW8WJPgVVAuWVR-gzGzoHsz',
            appKey: 'NVGqxhUkqtFv2CbwmXXWjCdR'
        })
    </script>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2024-06-02 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/pwn/">pwn<span>4</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#CTF-%E7%AB%9E%E8%B5%9B%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97-PWN-3"><span class="toc-article-text">CTF 竞赛权威指南-PWN-3</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#0x08-%E5%A0%86%E5%88%A9%E7%94%A8"><span class="toc-article-text">0x08 堆利用</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-article-text">相关概念</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%90%84%E7%A7%8D-bins"><span class="toc-article-text">各种 bins</span></a></li></ol></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>

	<!-- copyright -->
	<div>
    <ul class="post-copyright">
      <li class="post-copyright-author">
      <strong>作者:  </strong>wd-z711</a>
      </li>
      <li class="post-copyright-link">
      <strong>文章链接:  </strong>
      <a href="/" target="_blank" title="">https://wd-2711.tech/</a>
      </li>
      <li class="post-copyright-license">
        <strong>版权声明:   </strong>
        本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
        许可协议。转载请注明出处!
      </li>
    </ul>
  <div>
 	

		


</div><!-- row -->




	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2024 wd-z711
  
      <!-- with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.     -->

     <!-- <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
      
      _st('install','aB-vgeB8gEDrnRJuhceL','2.0.0');
    </script> -->
    </p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
   </html>

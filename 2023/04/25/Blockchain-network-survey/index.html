<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Blockchain-network-survey | wd-z711&#39;s B10g</title>
  <meta name="author" content="wd-z711">
  
  <meta name="description" content="Common student in China. Interested in web &amp; re.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Blockchain-network-survey"/>
  <meta property="og:site_name" content="wd-z711&#39;s B10g"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'G-YHJSKZDC3Y', 'auto');
  ga('send', 'pageview');
</script>




<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="wd-z711's B10g" type="application/atom+xml">
</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">wd-z711&#39;s B10g</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> Blockchain-network-survey</h1>
		</div>
	



<div class="row post">

	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h1 id="Blockchain-network-survey"><a href="#Blockchain-network-survey" class="headerlink" title="Blockchain-network-survey"></a>Blockchain-network-survey</h1><h2 id="A-Survey-on-Blockchain-Technology-and-itsSecurity"><a href="#A-Survey-on-Blockchain-Technology-and-itsSecurity" class="headerlink" title="A Survey on Blockchain Technology and itsSecurity"></a>A Survey on Blockchain Technology and itsSecurity</h2><h3 id="文章贡献："><a href="#文章贡献：" class="headerlink" title="文章贡献："></a>文章贡献：</h3><p>（1）对各种共识算法进行了分析与比较，并介绍了区块链的密码学基础；</p>
<p>（2）介绍了智能合约及其安全性的丰富信息；</p>
<p>（3）探索了区块链技术的广泛应用，包括但不限于不同的加密货币；</p>
<p>（4）对区块链本身的安全风险、真实攻击和最近的安全措施进行了全面的分析；</p>
<p>（5）总结了面临的挑战和研究趋势。</p>
<span id="more"></span>
<h3 id="共识算法"><a href="#共识算法" class="headerlink" title="共识算法"></a>共识算法</h3><ul>
<li>POW（Proof of Work）。节点们猜随机数，谁先猜中，谁就获得一些加密货币。但需要消耗大量电力与时间。</li>
<li>POS（Proof of Stake）。节点们拿出自己所持有的Stake，当节点被选中时，就会收到一笔费用。如果选中的节点添加无效块，那么就会失去其Stake。</li>
<li>Delegated Proof-of-Stake （DPoS）。节点会将自己的Stake给它信任的人，最后由这些人验证交易。DPoS中的节点可以通过投票来要求谁去挖掘新的块。</li>
<li>PoET（Proof of Elapsed Time）。节点在SGX上选取随机时间，选取时间最短的节点负责产生新块。</li>
<li>PBFT（Practical Byzantine Fault Tolerant ）。假设恶意节点不超过1/3，区块链就可以达成一致。</li>
<li>DAG（Directed Acyclic Graph）。交易连接到另一个交易上，构成DAG。节点提交交易时，需要局部pow操作。</li>
</ul>
<h3 id="智能合约（链码）"><a href="#智能合约（链码）" class="headerlink" title="智能合约（链码）"></a>智能合约（链码）</h3><h3 id="区块链密码学"><a href="#区块链密码学" class="headerlink" title="区块链密码学"></a>区块链密码学</h3><p>&emsp;公私钥、零知识证明、哈希函数（merkle树）。</p>
<p>&emsp;Pay to Public Key Hash（P2PKH）。</p>
<h3 id="区块链应用"><a href="#区块链应用" class="headerlink" title="区块链应用"></a>区块链应用</h3><h3 id="区块链的安全性"><a href="#区块链的安全性" class="headerlink" title="区块链的安全性"></a>区块链的安全性</h3><p><img src="/images/Blockchain-network-survey/image-20230425181745169.png" alt="image-20230425181745169" style="zoom:80%;" /></p>
<h2 id="Survey-on-Blockchain-Networking-Context-State-of-the-Art-Challenges"><a href="#Survey-on-Blockchain-Networking-Context-State-of-the-Art-Challenges" class="headerlink" title="Survey on Blockchain Networking: Context, State-of-the-Art, Challenges"></a>Survey on Blockchain Networking: Context, State-of-the-Art, Challenges</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 近期顶会论文</span><br><span class="line">2. 主题是什么？为什么很重要？有什么挑战？</span><br><span class="line">3. 描述与总结解决方案，并列出优缺点</span><br><span class="line">4. 开放问题，有什么没解决的问题？</span><br></pre></td></tr></table></figure>
<h3 id="区块链网络中块传播的相关研究-开题报告"><a href="#区块链网络中块传播的相关研究-开题报告" class="headerlink" title="区块链网络中块传播的相关研究-开题报告"></a>区块链网络中块传播的相关研究-开题报告</h3><p>&emsp;区块链是一个由分布式节点共同管理的账本，它允许互不信任的实体在没有可信第三方的条件下进行合作。由于区块链天然具有不可变性、匿名性等优点，因此它被广泛使用。在区块链的相关研究中，区块链网络是其中的一个重要方向。例如，区块的传播需要单播与组播服务；矿工节点之间的通信需要P2P网络连接等。研究表明[1, 2, 3, 4]，区块链网络与区块链的可扩展性、安全性和隐私性息息相关，并且高效的区块链网络能够使区块链提供更快的交易速度。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426133855548.png" alt="image-20230426133855548" style="zoom:67%;" /></p>
<p>图1. 优化的区块链网络（黄色）与传统P2P网络（灰色）块传播时间的对比图[5]。</p>
<p>&emsp;由于区块链网络与传统通信网络有着显著差异，我们不能简单的将传统网络的方法论套用在区块链网络上。例如：区块链网络可能更强调匿名性；在区块传播过程中，可能需要更加频繁的同步区块链当前的状态；区块链网络的任意节点都可能是恶意的。因此，给区块链设计合理高效的网络是困难的。区块链中，块（Block）是一个包含多个交易（Transaction）的数据结构，块的顺序在一定程度上决定了交易的顺序。在区块链网络的设计中，为了使得每个节点都持有相同的账本副本，我们需要考虑节点如何高效的传播块，安全的产生块。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426134816397.png" alt="image-20230426134816397" style="zoom:67%;" /></p>
<p>图2. 区块链的组织结构以及区块具体细节示意图[6]。</p>
<p>&emsp;首先，我们想让块得到高效的传播，这会极大降低块传播的延迟。想象节点之间都是传播完整的块，那么如果接收方内存中存储块中某些交易的信息，那么传播的信息就是冗余的，从而增大块的传播延迟。延迟的块可能导致分叉，基于网络中信息传播率的测量[7]，网络中的传播延迟是区块链分叉的主要原因。</p>
<p>&emsp;经过调研，现在的研究大多使用压缩块编码（Compressed Block Encoding）的思想，来使块得到高效的传播。Xtreme thinblocks （XThin） [8] 使用布隆过滤器（Bloom Filter）对节点内存中的交易ID进行编码，最后使得节点只需交换块中缺失的交易即可。Compact blocks[9] 则将交易ID缩短至6字节，从而有效降低块的大小，且它借用了Xtreme thinblocks的思想，节点之间也只需交换缺失的交易。Graphene[10] 则是借助布隆过滤器与可逆布隆查找表（IBLTs：Invertible Bloom Lookup Tables ），通过增加发送方的缺失交易ID误报，来缩小其保存的布隆过滤器的大小，并使用 IBLT 更正接收方中的缺失交易ID误报。与Compact blocks相比，Graphene的性能更优。与Xtreme thinblocks相比，Graphene的所需存储与带宽更小。</p>
<p>表1：不同压缩块编码之间的对比</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>压缩协议</th>
<th>概率性算法/确定性算法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>XThin Tschipper [2019]</td>
<td>概率性算法</td>
<td>传播带有 8 字节交易 ID 和使用布隆过滤器预测的缺失交易的 Thinblock</td>
</tr>
<tr>
<td>Compact Corallo [2016]</td>
<td>概率性算法</td>
<td>传播携带 6 字节交易 ID 的 cmpctblock</td>
</tr>
<tr>
<td>Graphene Ozisik et al. [2019]</td>
<td>概率性算法</td>
<td>布隆过滤器和 IBLT 被传播到接收者，然后接收者生成另一个 IBLT 来重建新块</td>
</tr>
</tbody>
</table>
</div>
<p>&emsp;其次，我们想安全的产生块。区块链产生块的流程如下：首先，特定节点收集新产生的交易，产生一个块模板，并将模板头发送给矿工节点；之后，矿工节点通过某种共识机制（例如POW）产生新块，并发送回特定节点；最后，特定节点将新块发送到网络中，并奖励产生新块的矿工节点。而在实际应用中，Stratum[11，12]是基于区块链使用的挖掘通信协议，它使矿工能够高效地进行上述工作。但是，Stratum存在诸多安全性隐患。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426140013200.png" alt="image-20230426140013200" style="zoom: 67%;" /></p>
<p>图3. Stratum协议中的消息流。上图在 TCP 连接上运行，下图在 TLS 会话上运行[13]。</p>
<p>&emsp;经过调研，Stratum方案存在缺乏加密、缺乏完整性验证等问题。Recabarren[14]利用Stratum缺乏加密的特点，对Stratum进行攻击。其通过秘密修改TCP数据包，来劫持由矿工节点提交的新块。[15]则实现了对Stratum的另一种攻击，其利用Stratum缺乏完整性验证的特点，通过伪造产生新块的证据，使得攻击者只需块的证据，而不提供块本身，就可证明自己挖掘到了新块。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426140329963.png" alt="image-20230426140329963" style="zoom:67%;" /></p>
<p>图4. Recabarren的攻击示意图[14]。</p>
<p>&emsp;区块链的性能取决于块传播的效率，因此，在尽可能减少带宽浪费的同时，我们应该尽可能快地传播新生成的数据块。同时，系统设计不能放弃安全性，所使用的协议必须确保块中包含有效的交易。在之后的研究中，在保证安全性的前提下，如何加速块的传播仍是一个重要的课题，我们仍相信块的传播有更加高效的方案。这也许需要在速度与安全两方面做权衡，但这也是科研的艺术所在。</p>
<h4 id="参考文献："><a href="#参考文献：" class="headerlink" title="参考文献："></a>参考文献：</h4><p>[1] Christian Decker and Roger Wattenhofer. 2013. Information propagation in the bitcoin network. InProc. IEEE P2P Conference. IEEE, 1–10.</p>
<p>[2] Uri Klarman, Soumya Basu, Aleksandar Kuzmanovic, and Emin Gün Sirer. 2018. bloxroute: A scalable trustless blockchain distribution network whitepaper. IEEE Internet of Things Journal （2018）.</p>
<p>[3] Arthur Gervais, Ghassan O Karame, Karl Wüst, Vasileios Glykantzis, Hubert Ritzdorf, and Srdjan Capkun. 2016. On the security and performance of proof of work blockchains. In Proc. of the 2016 ACM SIGSAC conference on computer and communications security.</p>
<p>[4] Arthur Gervais, Srdjan Capkun, Ghassan O Karame, and Damian Gruber. 2014. On the privacy provisions of bloom filters in lightweight bitcoin clients. In Proceedings of the 30th Annual Computer Security Applications Conference. 326–335.</p>
<p>[5] <a target="_blank" rel="noopener" href="https://medium.com/@peter_r/towards-massive-on-chain-scaling-block-propagation-results-with-xthin-a0f1e3c23919">https://medium.com/@peter_r/towards-massive-on-chain-scaling-block-propagation-results-with-xthin-a0f1e3c23919</a></p>
<p>[6] A Comparative Analysis on Volatility and Scalability Properties（<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2303.17643）">https://arxiv.org/pdf/2303.17643）</a></p>
<p>[7] Christian Decker and Roger Wattenhofer. 2013. Information propagation in the bitcoin network. InProc. IEEE P2P Conference. IEEE, 1–10.</p>
<p>[8] Peter Tschipper. 2016. BUIP010: Xtreme Thinblocks. In Bitcoin Forum （1 January 2016）. <a target="_blank" rel="noopener" href="https://bitco">https://bitco</a>. in/forum/threads/buip010-passed-xtreme-thinblocks, Vol. 774.</p>
<p>[9] Bitcoin Improvement Proposals Compact Block Relay. <a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/">https://github.com/bitcoin/bips/blob/</a> master/bip-0152.mediawiki. Accessed: 2019-09-23.</p>
<p>[10] A Pinar Ozisik, Gavin Andresen, Brian N Levine, Darren Tapp, George Bissias, and Sunny Katkuri. 2019. Graphene: efficient interactive set reconciliation applied to blockchain propagation. In Proceedings of the ACM Special Interest Group on Data Communication. 303–317.</p>
<p>[11] Bitcoin Inc. 2015. Stratum Mining Protocol. <a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Stratum_mining_protocol">https://en.bitcoin.it/wiki/Stratum_mining_protocol</a></p>
<p>[12] Slush Pool. 2019. Stratum Mining Protocol. <a target="_blank" rel="noopener" href="https://slushpool.com/help/stratum-protocol/">https://slushpool.com/help/stratum-protocol/</a></p>
<p>[13] A. Pastor et al., “Detection of Encrypted Cryptomining Malware Connections With Machine and Deep Learning,” in IEEE Access, vol. 8, pp. 158036-158055, 2020, doi: 10.1109/ACCESS.2020.3019658.</p>
<p>[14] Ruben Recabarren and Bogdan Carbunar. 2017. Hardening stratum, the bitcoin pool mining protocol.Proceedings on Privacy Enhancing Technologies 2017, 3 （2017）, 57–74.</p>
<p>[15] Michael Mirkin, Yan Ji, Jonathan Pang, Ariah Klages-Mundt, Ittay Eyal, and Ari Juels. 2020. BDoS: Blockchain Denial-of-Service. In Proceedings of the 2020 ACM SIGSAC conference on Computer and Communications Security. 601–619.</p>
<h3 id="区块链网络中块传播的相关研究-完整版"><a href="#区块链网络中块传播的相关研究-完整版" class="headerlink" title="区块链网络中块传播的相关研究-完整版"></a>区块链网络中块传播的相关研究-完整版</h3><p>&emsp;区块链是一个由分布式节点共同管理的账本，它允许互不信任的实体在没有可信第三方的条件下进行合作。由于区块链天然具有不可变性、匿名性等优点，因此它被广泛使用。在区块链的相关研究中，区块链网络是其中的一个重要方向。例如，区块的传播需要单播与组播服务；矿工节点之间的通信需要P2P网络连接等。</p>
<p>&emsp;区块链中的块也是一个重要的概念。它们通过共识协议使得输入一致。块的顺序决定交易的顺序，因此，可以通过遵循共识链中的块中交易的顺序来构建网络的状态。交易一旦包括在共识链前端的区块中，就被认为是已确认的。研究表明[1, 2, 3, 4]，区块链网络与区块链的可扩展性、安全性和隐私性息息相关，并且高效的区块链网络能够使区块链提供更快的交易速度。因此，数据块传播是共识过程中最重要的问题。矿工节点挖掘新块的速度以及创建和验证块的速度对于加密货币的效率至关重要。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426133855548.png" alt="image-20230426133855548" style="zoom:67%;" /></p>
<p>图1. 优化的区块链网络（黄色）与传统P2P网络（灰色）块传播时间的对比图[5]。</p>
<p>&emsp;一旦建立了公告（announcement）的基本有效性（例如，在工作证明pow检查之后），块就被重新传播到所有连接的对等节点。在比特币中，传播使用NewBlock和NewBlockHash消息。NewBlock消息包括整个块，并被发送到连接的对等节点的一小部分（通常是对等节点总数的平方根）。之后，向其他的对等节点发送一条NewBlockHash消息，其中仅包含新数据块的散列。如果这些对等节点未能在合理时间内从任何人那里收到数据块，则可以在以后请求完整数据块。</p>
<p>&emsp;通常，矿工们在矿池中合作，分享寻找块的风险和回报。为此，专用服务器连接到充当网关的节点。此节点收集新传输的交易和新构建的块，以构建新的块模板。然后，通过挖掘池服务器将模板头发送到想将块模板变为有效块的矿工。对于比特币，最简单的方法是，根据模板头中的随机数域，矿工尝试不同的值。如果所得到的散列具有足够的前导零（对应不同的难度级别），即，当块完成时，将其发送回挖掘池服务器，然后其使用网关节点将新的块发布到网络，并在池中对有贡献的矿工分配奖励。2017年，比特币至少95%的矿权来自10个矿池；在Ethereum网络中，6个矿池占据80%的矿权[6]。</p>
<p>&emsp;由于区块链网络与传统通信网络有着显著差异，我们不能简单的将传统网络的方法论套用在区块链网络上。例如：区块链网络可能更强调匿名性；在区块传播过程中，可能需要更加频繁的同步区块链当前的状态；区块链网络的任意节点都可能是恶意的。因此，给区块链设计合理高效的网络是困难的。区块链中，块（Block）是一个包含多个交易（Transaction）的数据结构，块的顺序在一定程度上决定了交易的顺序。在区块链网络的设计中，为了使得每个节点都持有相同的账本副本，我们需要考虑节点如何高效的传播块，安全的产生块。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426134816397.png" alt="image-20230426134816397" style="zoom:67%;" /></p>
<p>图2. 区块链的组织结构以及区块具体细节示意图[7]。</p>
<p>&emsp;<strong>首先，我们想让块得到高效的传播，这会极大降低块传播的延迟。</strong>想象节点之间都是传播完整的块，那么如果接收方内存中存储块中某些交易的信息，那么传播的信息就是冗余的，从而增大块的传播延迟。延迟的块可能导致分叉，基于网络中信息传播率的测量[8]，网络中的传播延迟是区块链分叉的主要原因。</p>
<p>&emsp;造成这种延迟的原因之一是丢包。Imtiaz等人[9]报告称，几乎所有（97%）的比特币节点都是断断续续连接的，这导致大量交易失败，失败数量大约是持续连接节点的两倍。特别是，他们在实验中证明，丢包会导致块传播时间平均增加135%（即，336.57毫秒对142.62毫秒），并且在测量到的最坏情况下可以导致高达800倍的传播时间增加。</p>
<p><img src="/C:/Users/23957/Desktop/%E5%9B%BE%E7%89%873.png" alt="image-20230613201530724" style="zoom:67%;" /></p>
<p>图3. 区块链上各节点的地理位置[9]。</p>
<p>&emsp;基于拜占庭容错（BFT）共识算法的许可区块链网络受传播时间的影响也很大。例如，Nguyen等人[10]演示网络延迟如何导致Hyperledger中Consensus层的处理时间增加30倍。</p>
<p><img src="/C:/Users/23957/Desktop/%E5%9B%BE%E7%89%874.png" alt="image-20230613201703662" style="zoom:67%;" /></p>
<p>图4. 不同块数量的延迟[10]。</p>
<p>&emsp;<strong>经过调研，现在的研究大多使用压缩块编码（Compressed Block Encoding）的思想，来使块得到高效的传播。</strong>在创建新块时，大多数对等节点很可能将这些相同的交易存储在它们的内存池中。因此，转发新数据块会导致接收节点的入站带宽达到峰值，并可能导致在对等节点之前接收数据块的节点出现较大的出站带宽峰值，因为它们将用新的原始块数据淹没网络。块可以用压缩编码进行传播。数据块的高效传播对于达成共识、减少存储膨胀、克服网络防火墙瓶颈以及每秒处理大量交易至关重要。延迟块可能导致分叉[11]：根据对网络中信息传播速率的测量，网络中的传播延迟可能是区块链分叉的主要原因。应该避免区块链分叉，分叉代表区块链网络中节点的副本是不一致的。作为一种缓解策略，作者建议流水线传输数据块，即在数据块完全验证之前开始传输数据块。</p>
<p>&emsp;Xtreme thinblocks （XThin） [12] 使用布隆过滤器（Bloom Filter）对节点内存中的交易ID进行编码，最后使得节点只需交换块中缺失的交易即可。Compact blocks[13] 则将交易ID缩短至6字节，从而有效降低块的大小，且它借用了Xtreme thinblocks的思想，节点之间也只需交换缺失的交易。Graphene[14] 则是借助布隆过滤器与可逆布隆查找表（IBLTs：Invertible Bloom Lookup Tables ），通过增加发送方的缺失交易ID误报，来缩小其保存的布隆过滤器的大小，并使用 IBLT 更正接收方中的缺失交易ID误报。与Compact blocks相比，Graphene的性能更优。与Xtreme thinblocks相比，Graphene的所需存储与带宽更小。</p>
<p>表1：不同压缩块编码之间的对比</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>压缩协议</th>
<th>概率性算法/确定性算法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>XThin Tschipper [2019]</td>
<td>概率性算法</td>
<td>传播带有 8 字节交易 ID 和使用布隆过滤器预测的缺失交易的 Thinblock</td>
</tr>
<tr>
<td>Compact Corallo [2016]</td>
<td>概率性算法</td>
<td>传播携带 6 字节交易 ID 的 cmpctblock</td>
</tr>
<tr>
<td>Graphene Ozisik et al. [2019]</td>
<td>概率性算法</td>
<td>布隆过滤器和 IBLT 被传播到接收者，然后接收者生成另一个 IBLT 来重建新块</td>
</tr>
</tbody>
</table>
</div>
<p>&emsp;<strong>除了压缩块编码以外，弱块的提出也是一种加快块传播速度的方法。</strong>一种方法是让矿工在完成相应的pow之前广播他们正在挖掘的块。更准确地说，弱块或近块由于其pow不足以满足目标难度，因此可以提早传播。因此，当块被完全挖掘时，大多数节点已经接收到和验证块的有效负载，只需要广播和处理头部[15]。</p>
<p>&emsp;传统上，弱块在比特币中被丢弃，这样会完全浪费弱块的工作证明。理想情况下，区块链是用足够的pow来加固的。根据定义，弱块具有更短的interarrival times，因此矿工既可以为弱块中的交易接收强确认信号，也可以更快地预测分叉（因为弱块中的挖掘差异减少，冲突块出现得更早）。目前，业界已经提出了很多对传统共识算法的更新，来实现上述思想，但是仍没有针对弱块的协议更改。BitcoinNG[16]利用弱块来存储和传播交易。key block用于选择一个新的leader，使得矿工可以正确延长具有弱块的链。该协议在之前leader选举的矿工之间分配报酬，以防止恶意行为，如自私挖掘或隐藏块扩展攻击。另一个类似的研究称为Flux[17]，其用弱块扩展了现有的比特币协议，使得弱块或sub-chains的链有助于pow。使用最繁琐的区块链规则作为其共识规则，它可以通过确保链接到sub-chains的key block包含sub-chains的弱块或子块中包含的交易，从而获得更快的交易确认时间。这在实践中也可以适用于没有矿工的买入的情况。可以想象，如果一定数量的矿工选择广播弱块，key block可以确保主链包含一些弱块的sub-chain。</p>
<p><img src="/C:/Users/23957/Desktop/%E5%9B%BE%E7%89%875.png" alt="image-20230613195907899" style="zoom:67%;" /></p>
<p>图5. Bitcoin-NG 链的结构[16]。</p>
<p>&emsp;<strong>使用中继网络也可以提高块传播的速度。</strong>与公共P2P协议平行，研究者还设计了单独的中继网络来提高矿工的网络效率。第一个这样的比特币系统，称为比特币中继网络[18]，它通过传播块而不进行完整的块验证并重新传输已知交易来实现这一点。它由几个分散在全球的节点组成，所有这些节点彼此对等。另一种方法 Falcon [19] 依赖于切割路由，可以实现更快的块传播、最小的验证和手动优化的拓扑。</p>
<p>&emsp;最近，FIBRE [20] 已经开始通过将切割路由与压缩块相结合，并在 UDP（正常的比特币协议使用 TCP）上进行前向纠错来提供类似的注册用户服务。Falcon 和 FIBRE 都可以大大减少比特币网络中的块传播时间和块孤儿率，如 [21] 所示。然而，重要的是，这两种设计都不是为了扩大比特币网络的规模，也不适合这样做。比特币不能仅仅依靠这些中继网络来实现更高的吞吐量，而且可以将控制区块链中包括哪些交易，以及控制哪些矿工可以参与。例如，中继网络运营商可以选择（或被强制）仅从一组矿工传播块，并拒绝所有其他矿工，或者只将块传播到一组矿工，而不向其他矿工传播区块。更糟糕的是，网络运营商可能会拒绝所有包含涉及特定地址的交易的区块，从而有效地禁止其所有者使用它。</p>
<p>&emsp;<strong>其次，我们想安全的产生块。</strong>区块链产生块的流程如下：首先，特定节点收集新产生的交易，产生一个块模板，并将模板头发送给矿工节点；之后，矿工节点通过某种共识机制（例如POW）产生新块，并发送回特定节点；最后，特定节点将新块发送到网络中，并奖励产生新块的矿工节点。</p>
<p>&emsp;在实际应用中，Stratum[22，23]是基于区块链使用的挖掘通信协议，它使矿工能够高效地进行上述工作。Stratum 最初是针对开源客户端-服务器覆盖协议的提议，以支持轻量级客户端。Stratum挖掘协议将此提议扩展到在比特币网络和许多其他区块链协议上用于池化挖掘服务的网络协议。该协议在挖掘客户端（mining clients）和池操作符（pool operator）或服务器之间使用TCP套接字建立客户端-服务器连接，以分发通过区块链pow定义的新任务。但是，Stratum存在诸多安全性隐患。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426140013200.png" alt="image-20230426140013200" style="zoom: 67%;" /></p>
<p>图6. Stratum协议中的消息流。上图在 TCP 连接上运行，下图在 TLS 会话上运行[22]。</p>
<p>&emsp;经过调研，Stratum方案存在缺乏加密、缺乏完整性验证等问题。Recabarren[25]利用Stratum缺乏加密的特点，对Stratum进行攻击。其通过秘密修改TCP数据包，来劫持由矿工节点提交的新块。[26]则实现了对Stratum的另一种攻击，其利用Stratum缺乏完整性验证的特点，通过伪造产生新块的证据，使得攻击者只需块的证据，而不提供块本身，就可证明自己挖掘到了新块。</p>
<p><img src="/images/Blockchain-network-survey/image-20230426140329963.png" alt="image-20230426140329963" style="zoom:67%;" /></p>
<p>图7. Recabarren的攻击示意图[25]。</p>
<p>&emsp;针对提高块传播的SPV挖掘技术也带来了很多的安全问题。“SPV（简化支付验证）挖掘”概念可以通过避免块的完整验证，而是部分不加检查地中继这些块，从而减少块传播延迟。最初，开发这种方法是为了加快挖矿速度：为了在前一个区块之上构建并扩展链，矿工需要前一个块的哈希。但是，矿工其实不需要所有交易数据的完整块，就能开始挖掘。事实上，为了挖掘一个有效的区块，只需前一个区块头的哈希值就足够了。</p>
<p>&emsp;SPV 挖掘的动机是尽可能快地挖掘块，以增加利润。等待下载完整的块并验证所有交易都会耽误时间，从而导致利润丢失。因此，矿工可能会在下载和验证前一个区块之前找到下一个区块。如果采取这种方式，矿工将避免在区块中放置任何交易（除了奖励矿工的coinbase交易），因为矿工无法知道前一个块中有哪些交易。如果包括交易，可能会导致双花问题（区块无效）。SPV挖掘是空块出现在区块链的原因之一[27]。此外，SPV挖掘增加了无效块被添加到区块链上以及挖掘到的新块连接到无效块上的可能性（因为交易没有被下一个块验证，甚至没有被多个块验证）。这反过来又导致网络对支付的可靠性较低，因为有可能出现双重支付的情况。</p>
<p>&emsp;事实上，比特币协议中实施了一项更新（关于强制执行BIP66严格的DER签名），该更新应该在95%的节点升级其软件后生效。其实现方式如下：一旦最后 1,000 个块中的 950 个是版本 3 （v3） 的块，所有更新后的矿工都将拒绝版本 2 （v2） 的块。2015 年 7 月 4 日，在达到阈值后不久，一个矿工（未升级 5% 的一部分）挖掘了一个无效块。不幸的是，大约一半的矿工在没有完全验证块的情况下进行挖掘，并在此无效块的基础上构建新块，从而导致分裂（split）。</p>
<p>&emsp;另一个类似的攻击是竞争矿池之间的间谍挖矿（spy mining）。当攻击者加入其他人的矿池以获取网络上出现的新区块的线索（Hint）时，就会发生间谍挖矿。间谍通过 Stratum 协议，从发送给它的更改标头检测新区块的线索，并将线索发送给其他矿池。由于SPV挖掘，矿工可以在不看到旧块内容的情况下开始挖掘一个新的块。</p>
<p>&emsp;加密货币的延迟和吞吐量取决于块传播的效率。因此，在减少带宽浪费的同时，尽可能快地传播新挖掘块的机制是至关重要的。同时，系统设计不能放弃安全性，而协议在追求挖掘速度的情况下，必须确保块包含有效的交易。目前，在针对块传播研究上，还有几个值得研究的开放问题：</p>
<ul>
<li><p><strong>如何加速块传播？</strong>允许更高的交易速率和更低的延迟。目前，提出了优化两个节点间块间信息交换和网络传播的几种方法。这两个维度都提供了可研究的点，随后研究者通过设计新的方法来克服这种障碍，以实现更快的交易率。</p>
</li>
<li><p><strong>如何设计有效的矿池网络？</strong>有效信息传播的池在挖掘方面更好。在矿池中，可以考虑使用具有更结构化的覆盖拓扑的模型来提高速度，并且在速度与安全性上做权衡。</p>
</li>
<li><p><strong>是否应该允许矿池？</strong>矿池的好处是否超过了它们从中心化方面带来的安全风险。如果不是，如何预防中心化带来的安全风险？可以监控矿池的恶意行为吗？如何设计激励诚实矿池行为的机制?</p>
</li>
<li><p><strong>如何激励具有许多有效交易的挖矿节点？</strong>这将提高交易率。SPV挖掘带来了风险，因此设计一个防止此风险的系统，例如经济激励，仍然是亟待研究的。</p>
</li>
</ul>
<p>&emsp;区块链的性能取决于块传播的效率，因此，在尽可能减少带宽浪费的同时，我们应该尽可能快地传播新生成的数据块。同时，系统设计不能放弃安全性，所使用的协议必须确保块中包含有效的交易。在之后的研究中，在保证安全性的前提下，如何加速块的传播仍是一个重要的课题，我们仍相信块的传播有更加高效的方案。这也许需要在速度与安全两方面做权衡，但这也是科研的艺术所在。</p>
<h4 id="参考文献：-1"><a href="#参考文献：-1" class="headerlink" title="参考文献："></a>参考文献：</h4><p>[1] Christian Decker and Roger Wattenhofer. 2013. Information propagation in the bitcoin network. InProc. IEEE P2P Conference. IEEE, 1–10.</p>
<p>[2] Uri Klarman, Soumya Basu, Aleksandar Kuzmanovic, and Emin Gün Sirer. 2018. bloxroute: A scalable trustless blockchain distribution network whitepaper. IEEE Internet of Things Journal （2018）.</p>
<p>[3] Arthur Gervais, Ghassan O Karame, Karl Wüst, Vasileios Glykantzis, Hubert Ritzdorf, and Srdjan Capkun. 2016. On the security and performance of proof of work blockchains. In Proc. of the 2016 ACM SIGSAC conference on computer and communications security.</p>
<p>[4] Arthur Gervais, Srdjan Capkun, Ghassan O Karame, and Damian Gruber. 2014. On the privacy provisions of bloom filters in lightweight bitcoin clients. In Proceedings of the 30th Annual Computer Security Applications Conference. 326–335.</p>
<p>[5] <a target="_blank" rel="noopener" href="https://medium.com/@peter_r/towards-massive-on-chain-scaling-block-propagation-results-with-xthin-a0f1e3c23919">https://medium.com/@peter_r/towards-massive-on-chain-scaling-block-propagation-results-with-xthin-a0f1e3c23919</a></p>
<p>[6] Loi Luu, Yaron Velner, Jason Teutsch, and Prateek Saxena. 2017. Smartpool: Practical decentralized pooled mining. In 26th {USENIX} Security Symposium.</p>
<p>[7] A Comparative Analysis on Volatility and Scalability Properties（<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2303.17643）">https://arxiv.org/pdf/2303.17643）</a></p>
<p>[8] Christian Decker and Roger Wattenhofer. 2013. Information propagation in the bitcoin network. InProc. IEEE P2P Conference. IEEE, 1–10.</p>
<p>[9] Muhammad Anas Imtiaz, David Starobinski, Ari Trachtenberg, and Nabeel Younis. 2019. Churn in the Bitcoin Network: Characterization and Impact. In 2019 IEEE International Conference on Blockchain and Cryptocurrency (ICBC). IEEE, 431–439.</p>
<p>[10] Thanh Son Lam Nguyen, Guillaume Jourjon, Maria Potop-Butucaru, and Kim Thai. 2019. Impact of network delays on Hyperledger Fabric. arXiv preprint arXiv:1903.08856 (2019).</p>
<p>[11] Christian Decker and Roger Wattenhofer. 2013. Information propagation in the bitcoin network. InProc. IEEE P2P Conference. IEEE, 1–10.</p>
<p>[12] Peter Tschipper. 2016. BUIP010: Xtreme Thinblocks. In Bitcoin Forum （1 January 2016）. <a target="_blank" rel="noopener" href="https://bitco">https://bitco</a>. in/forum/threads/buip010-passed-xtreme-thinblocks, Vol. 774.</p>
<p>[13] Bitcoin Improvement Proposals Compact Block Relay. <a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/">https://github.com/bitcoin/bips/blob/</a> master/bip-0152.mediawiki. Accessed: 2019-09-23.</p>
<p>[14] A Pinar Ozisik, Gavin Andresen, Brian N Levine, Darren Tapp, George Bissias, and Sunny Katkuri. 2019. Graphene: efficient interactive set reconciliation applied to blockchain propagation. In Proceedings of the ACM Special Interest Group on Data Communication. 303–317.</p>
<p>[15] Gavin Andresen. 2015. Weak Block Thoughts. <a target="_blank" rel="noopener" href="https://github.com/ethereum/devp2p/blob/master/caps/eth.md">https://github.com/ethereum/devp2p/blob/master/caps/eth.md</a></p>
<p>[16] Ittay Eyal, Adem Efe Gencer, Emin Gün Sirer, and Robbert Van Renesse. 2016. Bitcoin-ng: A scalable blockchain protocol. In 13th USENIX Symposium on Networked Systems Design and Implementation (NSDI). 45–59.</p>
<p>[17] Alexei Zamyatin, Nicholas Stifter, Philipp Schindler, Edgar R Weippl, and William J Knottenbelt. 2018. Flux: Revisiting Near Blocks for Proof-of-Work Blockchains. IACR Cryptology ePrint Archive2018 (2018), 415.</p>
<p>[18] Bitcoin Relay Network. 2017. high-speed block-relay system for miners. <a target="_blank" rel="noopener" href="http://www.bitcoinrelaynetwork.org/">http://www.bitcoinrelaynetwork.org/</a></p>
<p>[19] Soumaya Basu, Ittay Eyal, and Emin Gun Sirer. 2016. Falcon: Relay Network for Bitcoin Blocks. <a target="_blank" rel="noopener" href="https://www.falcon-net.org/">https://www.falcon-net.org/</a></p>
<p>[20] BlueMatt. 2016. FIBRE. <a target="_blank" rel="noopener" href="http://bitcoinfibre.org/public-network.html">http://bitcoinfibre.org/public-network.html</a></p>
<p>[21] Kai Otsuki, Yusuke Aoki, Ryohei Banno, and Kazuyuki Shudo. 2019. Effects of a Simple Relay Network on the Bitcoin Network. In Proceedings of the Asian Internet Engineering Conference. 41–46.</p>
<p>[22] Bitcoin Inc. 2015. Stratum Mining Protocol. <a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Stratum_mining_protocol">https://en.bitcoin.it/wiki/Stratum_mining_protocol</a></p>
<p>[23] Slush Pool. 2019. Stratum Mining Protocol. <a target="_blank" rel="noopener" href="https://slushpool.com/help/stratum-protocol/">https://slushpool.com/help/stratum-protocol/</a></p>
<p>[24] A. Pastor et al., “Detection of Encrypted Cryptomining Malware Connections With Machine and Deep Learning,” in IEEE Access, vol. 8, pp. 158036-158055, 2020, doi: 10.1109/ACCESS.2020.3019658.</p>
<p>[25] Ruben Recabarren and Bogdan Carbunar. 2017. Hardening stratum, the bitcoin pool mining protocol.Proceedings on Privacy Enhancing Technologies 2017, 3 （2017）, 57–74.</p>
<p>[26] Michael Mirkin, Yan Ji, Jonathan Pang, Ariah Klages-Mundt, Ittay Eyal, and Ari Juels. 2020. BDoS: Blockchain Denial-of-Service. In Proceedings of the 2020 ACM SIGSAC conference on Computer and Communications Security. 601–619.</p>
<p>[27] Canhui Wang, Xiaowen Chu, and Qin Yang. 2019. Measurement and analysis of the bitcoin networks: A view from mining pools. arXiv preprint arXiv:1902.07549 (2019).</p>

  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2023/05/04/re-core-principle-5/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> 上一页</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2023/04/22/taint-checking/" type="button" class="btn btn-default ">下一页<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>


	<!-- comment -->
	
<section id="comment">
    <h2 class="title">留言</h2>

    <!-- 
    <div id="disqus_thread" class="ds-thread">
        <script type="text/javascript">
            /**
             * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
             * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
             */
                /*
                 var disqus_config = function () {
                 this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
                 this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                 };
                 */
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');

                s.src = 'https://https-wd-2711-tech.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>
    </div> -->
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <div id="vcomments"></div>
    <script>
        new Valine({
            el: '#vcomments',
            appId: 'wLIJ70s3fPvW8WJPgVVAuWVR-gzGzoHsz',
            appKey: 'NVGqxhUkqtFv2CbwmXXWjCdR'
        })
    </script>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2023-04-25 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/blockchain/">blockchain<span>6</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>

	<!-- copyright -->
	<div>
    <ul class="post-copyright">
      <li class="post-copyright-author">
      <strong>作者:  </strong>wd-z711</a>
      </li>
      <li class="post-copyright-link">
      <strong>文章链接:  </strong>
      <a href="/" target="_blank" title="">https://wd-2711.tech/</a>
      </li>
      <li class="post-copyright-license">
        <strong>版权声明:   </strong>
        本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
        许可协议。转载请注明出处!
      </li>
    </ul>
  <div>
 	

		


</div><!-- row -->




	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2024 wd-z711
  
      <!-- with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.     -->

     <!-- <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
      
      _st('install','aB-vgeB8gEDrnRJuhceL','2.0.0');
    </script> -->
    </p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
   </html>
